stages:
  bootstrap:
    cmd: rm -rf results/* && find results -type d -name 'cycle_*' | grep -E 'cycle_[0-9]+$'
      | awk -F'cycle_' '{if ($2 > 10) system("rm -rf "$0)}' && python src/stages/generate_base_data.py
      --cycle 0
    deps:
    - src/stages/generate_base_data.py
    - src/utilities/data_utils.py
    - src/utilities/general_utils.py
    params:
    - data.base
    - add_self_loops
    outs:
    - results/data/base/cycle_0/base_data.pt
    - results/data/base/cycle_0/fold_data.pt
    - results/data/base/cycle_0/test_data.pt
    - results/data/base/cycle_0/calib_data.pt
  train_cycle_1:
    cmd: python src/stages/train.py --cycle 1 --model gcn
    deps:
    - src/stages/train.py
    - src/utilities/train_utils.py
    - src/utilities/general_utils.py
    - results/data/base/cycle_0/fold_data.pt
    - src/models/
    params:
    - models.gcn
    - add_self_loops
    - train
    outs:
    - results/trained/cycle_1
  evaluate_cycle_1:
    cmd: python src/stages/evaluate.py --cycle 1 --model gcn
    deps:
    - src/stages/evaluate.py
    - src/utilities/eval_utils.py
    - src/utilities/general_utils.py
    - results/data/base/cycle_0/test_data.pt
    - src/models/
    - results/trained/cycle_1/model.pt
    params:
    - models.gcn
    - evaluate
    outs:
    - results/evaluation/cycle_1
  generate_pred_data_cycle_1:
    cmd: python src/stages/generate_pred_data.py --cycle 1
    deps:
    - src/stages/generate_pred_data.py
    - src/utilities/pred_utils.py
    - src/utilities/data_utils.py
    - src/utilities/general_utils.py
    - results/data/base/cycle_0/base_data.pt
    - src/models/
    params:
    - data.pred
    outs:
    - results/data/prediction/cycle_1/pred_data.pt
  predict_cycle_1:
    cmd: python src/stages/predict.py --cycle 1 --model gcn
    deps:
    - src/stages/predict.py
    - src/utilities/pred_utils.py
    - src/utilities/general_utils.py
    - results/data/prediction/cycle_1/pred_data.pt
    - results/trained/cycle_1/model.pt
    - results/evaluation/cycle_1/calibrator.pt
    - src/models/
    params:
    - models.gcn
    outs:
    - results/prediction/cycle_1
  analyze_drift_cycle_1:
    cmd: python src/stages/analyze_drift.py --cycle 1
    deps:
    - src/stages/analyze_drift.py
    - src/utilities/drift_detection_utils.py
    - src/utilities/general_utils.py
    - results/data/base/cycle_0/base_data.pt
    - results/data/prediction/cycle_1/pred_data.pt
    params:
    - analyze_drift
    outs:
    - results/drift_analysis/cycle_1
  prepare_next_cycle_data_1:
    cmd: python src/stages/prepare_next_cycle_data.py --cycle 1
    deps:
    - src/stages/prepare_next_cycle_data.py
    - src/utilities/data_utils.py
    - src/utilities/general_utils.py
    - results/data/base/cycle_0/base_data.pt
    - results/data/prediction/cycle_1/pred_data.pt
    params:
    - data.base
    - add_self_loops
    outs:
    - results/data/base/cycle_1/base_data.pt
    - results/data/base/cycle_1/fold_data.pt
    - results/data/base/cycle_1/test_data.pt
    - results/data/base/cycle_1/calib_data.pt
  train_cycle_2:
    cmd: python src/stages/train.py --cycle 2 --model gcn
    deps:
    - src/stages/train.py
    - src/utilities/train_utils.py
    - src/utilities/general_utils.py
    - results/data/base/cycle_1/fold_data.pt
    - src/models/
    params:
    - models.gcn
    - add_self_loops
    - train
    outs:
    - results/trained/cycle_2
  evaluate_cycle_2:
    cmd: python src/stages/evaluate.py --cycle 2 --model gcn
    deps:
    - src/stages/evaluate.py
    - src/utilities/eval_utils.py
    - src/utilities/general_utils.py
    - results/data/base/cycle_1/test_data.pt
    - src/models/
    - results/trained/cycle_2/model.pt
    params:
    - models.gcn
    - evaluate
    outs:
    - results/evaluation/cycle_2
  generate_pred_data_cycle_2:
    cmd: python src/stages/generate_pred_data.py --cycle 2
    deps:
    - src/stages/generate_pred_data.py
    - src/utilities/pred_utils.py
    - src/utilities/data_utils.py
    - src/utilities/general_utils.py
    - results/data/base/cycle_1/base_data.pt
    - src/models/
    params:
    - data.pred
    outs:
    - results/data/prediction/cycle_2/pred_data.pt
  predict_cycle_2:
    cmd: python src/stages/predict.py --cycle 2 --model gcn
    deps:
    - src/stages/predict.py
    - src/utilities/pred_utils.py
    - src/utilities/general_utils.py
    - results/data/prediction/cycle_2/pred_data.pt
    - results/trained/cycle_2/model.pt
    - results/evaluation/cycle_2/calibrator.pt
    - src/models/
    params:
    - models.gcn
    outs:
    - results/prediction/cycle_2
  analyze_drift_cycle_2:
    cmd: python src/stages/analyze_drift.py --cycle 2
    deps:
    - src/stages/analyze_drift.py
    - src/utilities/drift_detection_utils.py
    - src/utilities/general_utils.py
    - results/data/base/cycle_1/base_data.pt
    - results/data/prediction/cycle_2/pred_data.pt
    params:
    - analyze_drift
    outs:
    - results/drift_analysis/cycle_2
  prepare_next_cycle_data_2:
    cmd: python src/stages/prepare_next_cycle_data.py --cycle 2
    deps:
    - src/stages/prepare_next_cycle_data.py
    - src/utilities/data_utils.py
    - src/utilities/general_utils.py
    - results/data/base/cycle_1/base_data.pt
    - results/data/prediction/cycle_2/pred_data.pt
    params:
    - data.base
    - add_self_loops
    outs:
    - results/data/base/cycle_2/base_data.pt
    - results/data/base/cycle_2/fold_data.pt
    - results/data/base/cycle_2/test_data.pt
    - results/data/base/cycle_2/calib_data.pt
  train_cycle_3:
    cmd: python src/stages/train.py --cycle 3 --model gcn
    deps:
    - src/stages/train.py
    - src/utilities/train_utils.py
    - src/utilities/general_utils.py
    - results/data/base/cycle_2/fold_data.pt
    - src/models/
    params:
    - models.gcn
    - add_self_loops
    - train
    outs:
    - results/trained/cycle_3
  evaluate_cycle_3:
    cmd: python src/stages/evaluate.py --cycle 3 --model gcn
    deps:
    - src/stages/evaluate.py
    - src/utilities/eval_utils.py
    - src/utilities/general_utils.py
    - results/data/base/cycle_2/test_data.pt
    - src/models/
    - results/trained/cycle_3/model.pt
    params:
    - models.gcn
    - evaluate
    outs:
    - results/evaluation/cycle_3
  generate_pred_data_cycle_3:
    cmd: python src/stages/generate_pred_data.py --cycle 3
    deps:
    - src/stages/generate_pred_data.py
    - src/utilities/pred_utils.py
    - src/utilities/data_utils.py
    - src/utilities/general_utils.py
    - results/data/base/cycle_2/base_data.pt
    - src/models/
    params:
    - data.pred
    outs:
    - results/data/prediction/cycle_3/pred_data.pt
  predict_cycle_3:
    cmd: python src/stages/predict.py --cycle 3 --model gcn
    deps:
    - src/stages/predict.py
    - src/utilities/pred_utils.py
    - src/utilities/general_utils.py
    - results/data/prediction/cycle_3/pred_data.pt
    - results/trained/cycle_3/model.pt
    - results/evaluation/cycle_3/calibrator.pt
    - src/models/
    params:
    - models.gcn
    outs:
    - results/prediction/cycle_3
  analyze_drift_cycle_3:
    cmd: python src/stages/analyze_drift.py --cycle 3
    deps:
    - src/stages/analyze_drift.py
    - src/utilities/drift_detection_utils.py
    - src/utilities/general_utils.py
    - results/data/base/cycle_2/base_data.pt
    - results/data/prediction/cycle_3/pred_data.pt
    params:
    - analyze_drift
    outs:
    - results/drift_analysis/cycle_3
  prepare_next_cycle_data_3:
    cmd: python src/stages/prepare_next_cycle_data.py --cycle 3
    deps:
    - src/stages/prepare_next_cycle_data.py
    - src/utilities/data_utils.py
    - src/utilities/general_utils.py
    - results/data/base/cycle_2/base_data.pt
    - results/data/prediction/cycle_3/pred_data.pt
    params:
    - data.base
    - add_self_loops
    outs:
    - results/data/base/cycle_3/base_data.pt
    - results/data/base/cycle_3/fold_data.pt
    - results/data/base/cycle_3/test_data.pt
    - results/data/base/cycle_3/calib_data.pt
  train_cycle_4:
    cmd: python src/stages/train.py --cycle 4 --model gcn
    deps:
    - src/stages/train.py
    - src/utilities/train_utils.py
    - src/utilities/general_utils.py
    - results/data/base/cycle_3/fold_data.pt
    - src/models/
    params:
    - models.gcn
    - add_self_loops
    - train
    outs:
    - results/trained/cycle_4
  evaluate_cycle_4:
    cmd: python src/stages/evaluate.py --cycle 4 --model gcn
    deps:
    - src/stages/evaluate.py
    - src/utilities/eval_utils.py
    - src/utilities/general_utils.py
    - results/data/base/cycle_3/test_data.pt
    - src/models/
    - results/trained/cycle_4/model.pt
    params:
    - models.gcn
    - evaluate
    outs:
    - results/evaluation/cycle_4
  generate_pred_data_cycle_4:
    cmd: python src/stages/generate_pred_data.py --cycle 4
    deps:
    - src/stages/generate_pred_data.py
    - src/utilities/pred_utils.py
    - src/utilities/data_utils.py
    - src/utilities/general_utils.py
    - results/data/base/cycle_3/base_data.pt
    - src/models/
    params:
    - data.pred
    outs:
    - results/data/prediction/cycle_4/pred_data.pt
  predict_cycle_4:
    cmd: python src/stages/predict.py --cycle 4 --model gcn
    deps:
    - src/stages/predict.py
    - src/utilities/pred_utils.py
    - src/utilities/general_utils.py
    - results/data/prediction/cycle_4/pred_data.pt
    - results/trained/cycle_4/model.pt
    - results/evaluation/cycle_4/calibrator.pt
    - src/models/
    params:
    - models.gcn
    outs:
    - results/prediction/cycle_4
  analyze_drift_cycle_4:
    cmd: python src/stages/analyze_drift.py --cycle 4
    deps:
    - src/stages/analyze_drift.py
    - src/utilities/drift_detection_utils.py
    - src/utilities/general_utils.py
    - results/data/base/cycle_3/base_data.pt
    - results/data/prediction/cycle_4/pred_data.pt
    params:
    - analyze_drift
    outs:
    - results/drift_analysis/cycle_4
  prepare_next_cycle_data_4:
    cmd: python src/stages/prepare_next_cycle_data.py --cycle 4
    deps:
    - src/stages/prepare_next_cycle_data.py
    - src/utilities/data_utils.py
    - src/utilities/general_utils.py
    - results/data/base/cycle_3/base_data.pt
    - results/data/prediction/cycle_4/pred_data.pt
    params:
    - data.base
    - add_self_loops
    outs:
    - results/data/base/cycle_4/base_data.pt
    - results/data/base/cycle_4/fold_data.pt
    - results/data/base/cycle_4/test_data.pt
    - results/data/base/cycle_4/calib_data.pt
  train_cycle_5:
    cmd: python src/stages/train.py --cycle 5 --model gcn
    deps:
    - src/stages/train.py
    - src/utilities/train_utils.py
    - src/utilities/general_utils.py
    - results/data/base/cycle_4/fold_data.pt
    - src/models/
    params:
    - models.gcn
    - add_self_loops
    - train
    outs:
    - results/trained/cycle_5
  evaluate_cycle_5:
    cmd: python src/stages/evaluate.py --cycle 5 --model gcn
    deps:
    - src/stages/evaluate.py
    - src/utilities/eval_utils.py
    - src/utilities/general_utils.py
    - results/data/base/cycle_4/test_data.pt
    - src/models/
    - results/trained/cycle_5/model.pt
    params:
    - models.gcn
    - evaluate
    outs:
    - results/evaluation/cycle_5
  generate_pred_data_cycle_5:
    cmd: python src/stages/generate_pred_data.py --cycle 5
    deps:
    - src/stages/generate_pred_data.py
    - src/utilities/pred_utils.py
    - src/utilities/data_utils.py
    - src/utilities/general_utils.py
    - results/data/base/cycle_4/base_data.pt
    - src/models/
    params:
    - data.pred
    outs:
    - results/data/prediction/cycle_5/pred_data.pt
  predict_cycle_5:
    cmd: python src/stages/predict.py --cycle 5 --model gcn
    deps:
    - src/stages/predict.py
    - src/utilities/pred_utils.py
    - src/utilities/general_utils.py
    - results/data/prediction/cycle_5/pred_data.pt
    - results/trained/cycle_5/model.pt
    - results/evaluation/cycle_5/calibrator.pt
    - src/models/
    params:
    - models.gcn
    outs:
    - results/prediction/cycle_5
  analyze_drift_cycle_5:
    cmd: python src/stages/analyze_drift.py --cycle 5
    deps:
    - src/stages/analyze_drift.py
    - src/utilities/drift_detection_utils.py
    - src/utilities/general_utils.py
    - results/data/base/cycle_4/base_data.pt
    - results/data/prediction/cycle_5/pred_data.pt
    params:
    - analyze_drift
    outs:
    - results/drift_analysis/cycle_5
  prepare_next_cycle_data_5:
    cmd: python src/stages/prepare_next_cycle_data.py --cycle 5
    deps:
    - src/stages/prepare_next_cycle_data.py
    - src/utilities/data_utils.py
    - src/utilities/general_utils.py
    - results/data/base/cycle_4/base_data.pt
    - results/data/prediction/cycle_5/pred_data.pt
    params:
    - data.base
    - add_self_loops
    outs:
    - results/data/base/cycle_5/base_data.pt
    - results/data/base/cycle_5/fold_data.pt
    - results/data/base/cycle_5/test_data.pt
    - results/data/base/cycle_5/calib_data.pt
  train_cycle_6:
    cmd: python src/stages/train.py --cycle 6 --model gcn
    deps:
    - src/stages/train.py
    - src/utilities/train_utils.py
    - src/utilities/general_utils.py
    - results/data/base/cycle_5/fold_data.pt
    - src/models/
    params:
    - models.gcn
    - add_self_loops
    - train
    outs:
    - results/trained/cycle_6
  evaluate_cycle_6:
    cmd: python src/stages/evaluate.py --cycle 6 --model gcn
    deps:
    - src/stages/evaluate.py
    - src/utilities/eval_utils.py
    - src/utilities/general_utils.py
    - results/data/base/cycle_5/test_data.pt
    - src/models/
    - results/trained/cycle_6/model.pt
    params:
    - models.gcn
    - evaluate
    outs:
    - results/evaluation/cycle_6
  generate_pred_data_cycle_6:
    cmd: python src/stages/generate_pred_data.py --cycle 6
    deps:
    - src/stages/generate_pred_data.py
    - src/utilities/pred_utils.py
    - src/utilities/data_utils.py
    - src/utilities/general_utils.py
    - results/data/base/cycle_5/base_data.pt
    - src/models/
    params:
    - data.pred
    outs:
    - results/data/prediction/cycle_6/pred_data.pt
  predict_cycle_6:
    cmd: python src/stages/predict.py --cycle 6 --model gcn
    deps:
    - src/stages/predict.py
    - src/utilities/pred_utils.py
    - src/utilities/general_utils.py
    - results/data/prediction/cycle_6/pred_data.pt
    - results/trained/cycle_6/model.pt
    - results/evaluation/cycle_6/calibrator.pt
    - src/models/
    params:
    - models.gcn
    outs:
    - results/prediction/cycle_6
  analyze_drift_cycle_6:
    cmd: python src/stages/analyze_drift.py --cycle 6
    deps:
    - src/stages/analyze_drift.py
    - src/utilities/drift_detection_utils.py
    - src/utilities/general_utils.py
    - results/data/base/cycle_5/base_data.pt
    - results/data/prediction/cycle_6/pred_data.pt
    params:
    - analyze_drift
    outs:
    - results/drift_analysis/cycle_6
  prepare_next_cycle_data_6:
    cmd: python src/stages/prepare_next_cycle_data.py --cycle 6
    deps:
    - src/stages/prepare_next_cycle_data.py
    - src/utilities/data_utils.py
    - src/utilities/general_utils.py
    - results/data/base/cycle_5/base_data.pt
    - results/data/prediction/cycle_6/pred_data.pt
    params:
    - data.base
    - add_self_loops
    outs:
    - results/data/base/cycle_6/base_data.pt
    - results/data/base/cycle_6/fold_data.pt
    - results/data/base/cycle_6/test_data.pt
    - results/data/base/cycle_6/calib_data.pt
  train_cycle_7:
    cmd: python src/stages/train.py --cycle 7 --model gcn
    deps:
    - src/stages/train.py
    - src/utilities/train_utils.py
    - src/utilities/general_utils.py
    - results/data/base/cycle_6/fold_data.pt
    - src/models/
    params:
    - models.gcn
    - add_self_loops
    - train
    outs:
    - results/trained/cycle_7
  evaluate_cycle_7:
    cmd: python src/stages/evaluate.py --cycle 7 --model gcn
    deps:
    - src/stages/evaluate.py
    - src/utilities/eval_utils.py
    - src/utilities/general_utils.py
    - results/data/base/cycle_6/test_data.pt
    - src/models/
    - results/trained/cycle_7/model.pt
    params:
    - models.gcn
    - evaluate
    outs:
    - results/evaluation/cycle_7
  generate_pred_data_cycle_7:
    cmd: python src/stages/generate_pred_data.py --cycle 7
    deps:
    - src/stages/generate_pred_data.py
    - src/utilities/pred_utils.py
    - src/utilities/data_utils.py
    - src/utilities/general_utils.py
    - results/data/base/cycle_6/base_data.pt
    - src/models/
    params:
    - data.pred
    outs:
    - results/data/prediction/cycle_7/pred_data.pt
  predict_cycle_7:
    cmd: python src/stages/predict.py --cycle 7 --model gcn
    deps:
    - src/stages/predict.py
    - src/utilities/pred_utils.py
    - src/utilities/general_utils.py
    - results/data/prediction/cycle_7/pred_data.pt
    - results/trained/cycle_7/model.pt
    - results/evaluation/cycle_7/calibrator.pt
    - src/models/
    params:
    - models.gcn
    outs:
    - results/prediction/cycle_7
  analyze_drift_cycle_7:
    cmd: python src/stages/analyze_drift.py --cycle 7
    deps:
    - src/stages/analyze_drift.py
    - src/utilities/drift_detection_utils.py
    - src/utilities/general_utils.py
    - results/data/base/cycle_6/base_data.pt
    - results/data/prediction/cycle_7/pred_data.pt
    params:
    - analyze_drift
    outs:
    - results/drift_analysis/cycle_7
  prepare_next_cycle_data_7:
    cmd: python src/stages/prepare_next_cycle_data.py --cycle 7
    deps:
    - src/stages/prepare_next_cycle_data.py
    - src/utilities/data_utils.py
    - src/utilities/general_utils.py
    - results/data/base/cycle_6/base_data.pt
    - results/data/prediction/cycle_7/pred_data.pt
    params:
    - data.base
    - add_self_loops
    outs:
    - results/data/base/cycle_7/base_data.pt
    - results/data/base/cycle_7/fold_data.pt
    - results/data/base/cycle_7/test_data.pt
    - results/data/base/cycle_7/calib_data.pt
  train_cycle_8:
    cmd: python src/stages/train.py --cycle 8 --model gcn
    deps:
    - src/stages/train.py
    - src/utilities/train_utils.py
    - src/utilities/general_utils.py
    - results/data/base/cycle_7/fold_data.pt
    - src/models/
    params:
    - models.gcn
    - add_self_loops
    - train
    outs:
    - results/trained/cycle_8
  evaluate_cycle_8:
    cmd: python src/stages/evaluate.py --cycle 8 --model gcn
    deps:
    - src/stages/evaluate.py
    - src/utilities/eval_utils.py
    - src/utilities/general_utils.py
    - results/data/base/cycle_7/test_data.pt
    - src/models/
    - results/trained/cycle_8/model.pt
    params:
    - models.gcn
    - evaluate
    outs:
    - results/evaluation/cycle_8
  generate_pred_data_cycle_8:
    cmd: python src/stages/generate_pred_data.py --cycle 8
    deps:
    - src/stages/generate_pred_data.py
    - src/utilities/pred_utils.py
    - src/utilities/data_utils.py
    - src/utilities/general_utils.py
    - results/data/base/cycle_7/base_data.pt
    - src/models/
    params:
    - data.pred
    outs:
    - results/data/prediction/cycle_8/pred_data.pt
  predict_cycle_8:
    cmd: python src/stages/predict.py --cycle 8 --model gcn
    deps:
    - src/stages/predict.py
    - src/utilities/pred_utils.py
    - src/utilities/general_utils.py
    - results/data/prediction/cycle_8/pred_data.pt
    - results/trained/cycle_8/model.pt
    - results/evaluation/cycle_8/calibrator.pt
    - src/models/
    params:
    - models.gcn
    outs:
    - results/prediction/cycle_8
  analyze_drift_cycle_8:
    cmd: python src/stages/analyze_drift.py --cycle 8
    deps:
    - src/stages/analyze_drift.py
    - src/utilities/drift_detection_utils.py
    - src/utilities/general_utils.py
    - results/data/base/cycle_7/base_data.pt
    - results/data/prediction/cycle_8/pred_data.pt
    params:
    - analyze_drift
    outs:
    - results/drift_analysis/cycle_8
  prepare_next_cycle_data_8:
    cmd: python src/stages/prepare_next_cycle_data.py --cycle 8
    deps:
    - src/stages/prepare_next_cycle_data.py
    - src/utilities/data_utils.py
    - src/utilities/general_utils.py
    - results/data/base/cycle_7/base_data.pt
    - results/data/prediction/cycle_8/pred_data.pt
    params:
    - data.base
    - add_self_loops
    outs:
    - results/data/base/cycle_8/base_data.pt
    - results/data/base/cycle_8/fold_data.pt
    - results/data/base/cycle_8/test_data.pt
    - results/data/base/cycle_8/calib_data.pt
  train_cycle_9:
    cmd: python src/stages/train.py --cycle 9 --model gcn
    deps:
    - src/stages/train.py
    - src/utilities/train_utils.py
    - src/utilities/general_utils.py
    - results/data/base/cycle_8/fold_data.pt
    - src/models/
    params:
    - models.gcn
    - add_self_loops
    - train
    outs:
    - results/trained/cycle_9
  evaluate_cycle_9:
    cmd: python src/stages/evaluate.py --cycle 9 --model gcn
    deps:
    - src/stages/evaluate.py
    - src/utilities/eval_utils.py
    - src/utilities/general_utils.py
    - results/data/base/cycle_8/test_data.pt
    - src/models/
    - results/trained/cycle_9/model.pt
    params:
    - models.gcn
    - evaluate
    outs:
    - results/evaluation/cycle_9
  generate_pred_data_cycle_9:
    cmd: python src/stages/generate_pred_data.py --cycle 9
    deps:
    - src/stages/generate_pred_data.py
    - src/utilities/pred_utils.py
    - src/utilities/data_utils.py
    - src/utilities/general_utils.py
    - results/data/base/cycle_8/base_data.pt
    - src/models/
    params:
    - data.pred
    outs:
    - results/data/prediction/cycle_9/pred_data.pt
  predict_cycle_9:
    cmd: python src/stages/predict.py --cycle 9 --model gcn
    deps:
    - src/stages/predict.py
    - src/utilities/pred_utils.py
    - src/utilities/general_utils.py
    - results/data/prediction/cycle_9/pred_data.pt
    - results/trained/cycle_9/model.pt
    - results/evaluation/cycle_9/calibrator.pt
    - src/models/
    params:
    - models.gcn
    outs:
    - results/prediction/cycle_9
  analyze_drift_cycle_9:
    cmd: python src/stages/analyze_drift.py --cycle 9
    deps:
    - src/stages/analyze_drift.py
    - src/utilities/drift_detection_utils.py
    - src/utilities/general_utils.py
    - results/data/base/cycle_8/base_data.pt
    - results/data/prediction/cycle_9/pred_data.pt
    params:
    - analyze_drift
    outs:
    - results/drift_analysis/cycle_9
  prepare_next_cycle_data_9:
    cmd: python src/stages/prepare_next_cycle_data.py --cycle 9
    deps:
    - src/stages/prepare_next_cycle_data.py
    - src/utilities/data_utils.py
    - src/utilities/general_utils.py
    - results/data/base/cycle_8/base_data.pt
    - results/data/prediction/cycle_9/pred_data.pt
    params:
    - data.base
    - add_self_loops
    outs:
    - results/data/base/cycle_9/base_data.pt
    - results/data/base/cycle_9/fold_data.pt
    - results/data/base/cycle_9/test_data.pt
    - results/data/base/cycle_9/calib_data.pt
  train_cycle_10:
    cmd: python src/stages/train.py --cycle 10 --model gcn
    deps:
    - src/stages/train.py
    - src/utilities/train_utils.py
    - src/utilities/general_utils.py
    - results/data/base/cycle_9/fold_data.pt
    - src/models/
    params:
    - models.gcn
    - add_self_loops
    - train
    outs:
    - results/trained/cycle_10
  evaluate_cycle_10:
    cmd: python src/stages/evaluate.py --cycle 10 --model gcn
    deps:
    - src/stages/evaluate.py
    - src/utilities/eval_utils.py
    - src/utilities/general_utils.py
    - results/data/base/cycle_9/test_data.pt
    - src/models/
    - results/trained/cycle_10/model.pt
    params:
    - models.gcn
    - evaluate
    outs:
    - results/evaluation/cycle_10
  generate_pred_data_cycle_10:
    cmd: python src/stages/generate_pred_data.py --cycle 10
    deps:
    - src/stages/generate_pred_data.py
    - src/utilities/pred_utils.py
    - src/utilities/data_utils.py
    - src/utilities/general_utils.py
    - results/data/base/cycle_9/base_data.pt
    - src/models/
    params:
    - data.pred
    outs:
    - results/data/prediction/cycle_10/pred_data.pt
  predict_cycle_10:
    cmd: python src/stages/predict.py --cycle 10 --model gcn
    deps:
    - src/stages/predict.py
    - src/utilities/pred_utils.py
    - src/utilities/general_utils.py
    - results/data/prediction/cycle_10/pred_data.pt
    - results/trained/cycle_10/model.pt
    - results/evaluation/cycle_10/calibrator.pt
    - src/models/
    params:
    - models.gcn
    outs:
    - results/prediction/cycle_10
  analyze_drift_cycle_10:
    cmd: python src/stages/analyze_drift.py --cycle 10
    deps:
    - src/stages/analyze_drift.py
    - src/utilities/drift_detection_utils.py
    - src/utilities/general_utils.py
    - results/data/base/cycle_9/base_data.pt
    - results/data/prediction/cycle_10/pred_data.pt
    params:
    - analyze_drift
    outs:
    - results/drift_analysis/cycle_10
  prepare_next_cycle_data_10:
    cmd: python src/stages/prepare_next_cycle_data.py --cycle 10
    deps:
    - src/stages/prepare_next_cycle_data.py
    - src/utilities/data_utils.py
    - src/utilities/general_utils.py
    - results/data/base/cycle_9/base_data.pt
    - results/data/prediction/cycle_10/pred_data.pt
    params:
    - data.base
    - add_self_loops
    outs:
    - results/data/base/cycle_10/base_data.pt
    - results/data/base/cycle_10/fold_data.pt
    - results/data/base/cycle_10/test_data.pt
    - results/data/base/cycle_10/calib_data.pt
  analyze_cycles_performance:
    cmd: python src/stages/analyze_cycles_performance.py
    deps:
    - src/stages/analyze_cycles_performance.py
    - src/utilities/cycles_performance_utils.py
    - results/evaluation/cycle_1/metrics.json
    - results/prediction/cycle_1/metrics.json
    - results/evaluation/cycle_2/metrics.json
    - results/prediction/cycle_2/metrics.json
    - results/evaluation/cycle_3/metrics.json
    - results/prediction/cycle_3/metrics.json
    - results/evaluation/cycle_4/metrics.json
    - results/prediction/cycle_4/metrics.json
    - results/evaluation/cycle_5/metrics.json
    - results/prediction/cycle_5/metrics.json
    - results/evaluation/cycle_6/metrics.json
    - results/prediction/cycle_6/metrics.json
    - results/evaluation/cycle_7/metrics.json
    - results/prediction/cycle_7/metrics.json
    - results/evaluation/cycle_8/metrics.json
    - results/prediction/cycle_8/metrics.json
    - results/evaluation/cycle_9/metrics.json
    - results/prediction/cycle_9/metrics.json
    - results/evaluation/cycle_10/metrics.json
    - results/prediction/cycle_10/metrics.json
    params:
    - cycles
    outs:
    - results/cycles_performance_analysis/cycles_performance.png
